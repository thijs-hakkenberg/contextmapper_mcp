// Sample E-Commerce Domain Model
ContextMap ECommerceContextMap {
	state = AS_IS
	contains CustomerManagement, OrderManagement, Inventory, Shipping

	// Relationships
	CustomerManagement [U,OHS,PL] -> [D,ACL] OrderManagement
	OrderManagement [U] -> [D,ACL] Shipping
	OrderManagement [U] -> [D,CF] Inventory
	Inventory Partnership Shipping
}

BoundedContext CustomerManagement {
	domainVisionStatement = "Manages customer data and authentication"
	responsibilities = "Customer registration", "Profile management", "Authentication"
	implementationTechnology = "TypeScript"

	Aggregate Customer {
		Entity Customer {
			aggregateRoot
			String customerId key
			String email
			String firstName
			String lastName
			String phone nullable
		}

		ValueObject Address {
			String street
			String city
			String zipCode
			String country
		}

		DomainEvent CustomerRegistered {
			String customerId
			String email
			Date registeredAt
		}

		Command RegisterCustomer {
			String email
			String firstName
			String lastName
		}
	}
}

BoundedContext OrderManagement {
	domainVisionStatement = "Handles order processing and lifecycle"
	responsibilities = "Order creation", "Order status tracking", "Payment processing"
	implementationTechnology = "Java"

	Aggregate Order {
		Entity Order {
			aggregateRoot
			String orderId key
			String customerId
			String status
			Date createdAt
		}

		Entity OrderLine {
			String productId
			int quantity
			Decimal price
		}

		ValueObject Money {
			Decimal amount
			String currency
		}

		DomainEvent OrderPlaced {
			String orderId
			String customerId
			Date placedAt
		}

		DomainEvent OrderShipped {
			String orderId
			Date shippedAt
		}

		Command PlaceOrder {
			String customerId
			List<String> productIds
		}

		Service OrderService {
			def Order placeOrder(String customerId, String productIds)
			def void cancelOrder(String orderId)
		}
	}
}

BoundedContext Inventory {
	domainVisionStatement = "Manages product inventory and stock levels"
	implementationTechnology = "Go"

	Aggregate Product {
		Entity Product {
			aggregateRoot
			String productId key
			String name
			String description
			int stockLevel
		}

		ValueObject ProductCategory {
			String categoryId
			String name
		}

		DomainEvent StockDepleted {
			String productId
			int remainingStock
		}

		Command ReserveStock {
			String productId
			int quantity
		}
	}
}

BoundedContext Shipping {
	domainVisionStatement = "Handles shipment tracking and delivery"
	implementationTechnology = "Python"

	Aggregate Shipment {
		Entity Shipment {
			aggregateRoot
			String shipmentId key
			String orderId
			String trackingNumber
			String status
		}

		ValueObject DeliveryAddress {
			String street
			String city
			String zipCode
			String country
		}

		DomainEvent ShipmentCreated {
			String shipmentId
			String orderId
		}

		DomainEvent ShipmentDelivered {
			String shipmentId
			Date deliveredAt
		}
	}
}
